<!doctype html><html lang=pt><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="Lucas Cezimbra"><meta name=description content="Curso
Opensource pitch das ideas cativar/sensibilizar os colegas a participar junto no projeto é um processo de venda Coisas erradas
não idealizar os mantenedores essas pessoas são sucessos possíveis todos esses caras começaram com um código simples Overengineering escopo grande sem ter tempo para executar senão não coloca na rua O valor de um projeto Opensource não é o problema q ele resolve e sim a quantidade de pessoas que usam o projeto Opensource Estratégias para aplicações Multi-Tenent https://github."><meta name=keywords content><meta name=twitter:card content="summary"><meta name=twitter:image content="https://cezimbra.me/images/lucas-180x180.jpg"><meta name=twitter:title content="Passaporte Dev Senior"><meta name=twitter:description content="Curso
Opensource pitch das ideas cativar/sensibilizar os colegas a participar junto no projeto é um processo de venda Coisas erradas
não idealizar os mantenedores essas pessoas são sucessos possíveis todos esses caras começaram com um código simples Overengineering escopo grande sem ter tempo para executar senão não coloca na rua O valor de um projeto Opensource não é o problema q ele resolve e sim a quantidade de pessoas que usam o projeto Opensource Estratégias para aplicações Multi-Tenent https://github."><meta name=twitter:site content="@lucasrcezimbra"><meta property="og:title" content="Passaporte Dev Senior"><meta property="og:description" content="Curso
Opensource pitch das ideas cativar/sensibilizar os colegas a participar junto no projeto é um processo de venda Coisas erradas
não idealizar os mantenedores essas pessoas são sucessos possíveis todos esses caras começaram com um código simples Overengineering escopo grande sem ter tempo para executar senão não coloca na rua O valor de um projeto Opensource não é o problema q ele resolve e sim a quantidade de pessoas que usam o projeto Opensource Estratégias para aplicações Multi-Tenent https://github."><meta property="og:type" content="article"><meta property="og:url" content="https://cezimbra.me/anotacoes/passaporte-dev-senior/"><meta property="og:image" content="https://cezimbra.me/images/lucas-180x180.jpg"><meta property="article:section" content="anotacoes"><meta property="article:published_time" content="2022-10-07T16:38:24-03:00"><meta property="article:modified_time" content="2022-10-07T16:38:24-03:00"><title>Passaporte Dev Senior · Lucas Cezimbra</title><link rel=canonical href=https://cezimbra.me/anotacoes/passaporte-dev-senior/><link rel=preload href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.d9fddbffe6f27e69985dc5fe0471cdb0e57fbf4775714bc3d847accb08f4a1f6.css integrity="sha256-2f3b/+byfmmYXcX+BHHNsOV/v0d1cUvD2Eesywj0ofY=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.002ee2378e14c7a68f1f0a53d9694ed252090987c4e768023fac694a4fc5f793.css integrity="sha256-AC7iN44Ux6aPHwpT2WlO0lIJCYfE52gCP6xpSk/F95M=" crossorigin=anonymous media=screen><link rel=stylesheet href=/styles/custom.min.2ef373c2c125094d9302d8a924eba231d053340611b63bcf581460745cef626f.css integrity="sha256-LvNzwsElCU2TAtipJOuiMdBTNAYRtjvPWBRgdFzvYm8=" crossorigin=anonymous media=screen><link rel=stylesheet href=/styles/project.min.b34629645b77ae2432c104397ae29202077f926d712f2019dfa9034bc78837fa.css integrity="sha256-s0YpZFt3riQywQQ5euKSAgd/km1xLyAZ36kDS8eIN/o=" crossorigin=anonymous media=screen><link rel=stylesheet href=/styles/contribution.min.cc4187dd6677d15a0c4438b74294dbe3f54269e14a831b267fb6f02a24f90d5d.css integrity="sha256-zEGH3WZ30VoMRDi3QpTb4/VCaeFKgxsmf7bwKiT5DV0=" crossorigin=anonymous media=screen><link rel=stylesheet href=/styles/jquery.dataTables.min.min.8f6eae843117db9532d2c9b910f3b28834d22d85107ce9aba8b5abbeab67400a.css integrity="sha256-j26uhDEX25Uy0sm5EPOyiDTSLYUQfOmrqLWrvqtnQAo=" crossorigin=anonymous media=screen><link rel=icon type=image/png href=/images/lucas-32x32.jpg sizes=32x32><link rel=icon type=image/png href=/images/lucas-16x16.jpg sizes=16x16><link rel=apple-touch-icon href=/images/lucas-180x180.jpg><link rel=apple-touch-icon sizes=180x180 href=/images/lucas-180x180.jpg><meta name=generator content="Hugo 0.104.3"></head><body class="preload-transitions colorscheme-dark"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=/>Lucas Cezimbra</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/sobre/>Sobre</a></li><li class=navigation-item><a class=navigation-link href=/projetos/>Projetos</a></li><li class=navigation-item><a class=navigation-link href=/anotacoes/indice/>Anotações</a></li><li class=navigation-item><a class=navigation-link href=/palestras/>Palestras</a></li><li class=navigation-item><a class=navigation-link href=/posts/>Blog</a></li></ul></section></nav><div class=content><section class="container page"><article><header><h1 class=title><a class=title-link href=https://cezimbra.me/anotacoes/passaporte-dev-senior/>Passaporte Dev Senior</a></h1></header><p><a href=https://henriquebastos.net/produtos/passaporte-dev-senior/>Curso</a></p><h2 id=opensource>Opensource
<a class=heading-link href=#opensource><i class="fa fa-link" aria-hidden=true></i></a></h2><ul><li>pitch das ideas<ul><li>cativar/sensibilizar os colegas a participar junto no projeto</li><li>é um processo de venda</li></ul></li></ul><p><strong>Coisas erradas</strong></p><ul><li>não idealizar os mantenedores<ul><li>essas pessoas são sucessos possíveis</li><li>todos esses caras começaram com um código simples</li></ul></li><li>Overengineering<ul><li>escopo grande sem ter tempo para executar</li><li>senão não coloca na rua</li></ul></li><li>O valor de um projeto Opensource não é o problema q ele resolve e sim a <strong>quantidade de pessoas</strong> que usam o projeto Opensource</li></ul><h2 id=estratégias-para-aplicações-multi-tenent>Estratégias para aplicações Multi-Tenent
<a class=heading-link href=#estrat%c3%a9gias-para-aplica%c3%a7%c3%b5es-multi-tenent><i class="fa fa-link" aria-hidden=true></i></a></h2><ul><li><a href=https://github.com/henriquebastos/pds-multi-tenant/>https://github.com/henriquebastos/pds-multi-tenant/</a></li><li>Formas de isolamento<ol><li>Diferentes instâncias<ol><li>“single-tentant na nuvem”</li><li>economicamente é muito díficil fazer sentido</li><li>um codebase pra aplicar em várias instâncias</li><li>faz sentido se tiver uma discrepancia muito grande entre consumo de diferentes clientes</li></ol></li><li>Mesma instância e diferentes databases<ol><li>mais comum</li><li>pq em geral o programador não tem um grande conhecimento de banco de dados</li></ol></li><li>Mesmo database e diferentes esquemas<ol><li>muito especifico para bancos q suportam schemas: Postgres, Oracle, SQL Server&mldr;</li><li>quais bancos suportam?</li></ol></li><li>Mesmo esquema mas com id de referência<ol><li>segundo mais comum</li><li>simples, mas é muito fácil fazer merda e vazar os dados</li><li>com Django é fácil garantir que toda request pro ORM terá tenant_id</li></ol></li></ol></li><li>“Tem q ficar fácil. Você não pode fazer uma estratégia de multi-tenant e exigir que o estagiário lembre de colocar o tenant_id na query”</li><li>Sempre começo com a estratégia 4. É muito fácil fazer uma migração de tenant_id (estratégia 4) pra cada um ter um banco de dados</li><li>importante focar na estratégia de otimização do custo de infraestrutura</li><li><a href=https://www.viget.com/articles/multi-tenancy-in-django/>https://www.viget.com/articles/multi-tenancy-in-django/</a></li><li>ao invés de middleware do Django, também pode-se fazer outra aplicação WSGI para pegar o tenant, injetar na thread e depois chamar o Django<ul><li><code>application = tenant_wsgi(get_wsgi_application())</code></li></ul></li><li>o tenant tem q ser especifíco por thread, pode-se usar o <code>[threading.Local()](https://docs.python.org/3/library/threading.html#thread-local-data)</code></li><li>fazer um experimento com <a href=https://docs.python.org/3/library/threading.html#thread-local-data>threading.Local</a></li><li>fazer experimento em usar o DATABASE_ROUTERS do Django<ul><li><a href=https://docs.djangoproject.com/en/4.0/ref/settings/#std:setting-DATABASE_ROUTERS>https://docs.djangoproject.com/en/4.0/ref/settings/#std:setting-DATABASE_ROUTERS</a></li><li><a href=https://docs.djangoproject.com/en/4.0/topics/db/multi-db/>https://docs.djangoproject.com/en/4.0/topics/db/multi-db/</a></li><li><a href=https://www.amvtek.com/blog/posts/2014/Jun/13/accessing-multiple-postgres-schemas-from-django/>https://www.amvtek.com/blog/posts/2014/Jun/13/accessing-multiple-postgres-schemas-from-django/</a></li><li><a href=https://stackoverflow.com/questions/65519069/django-routers-with-multiples-schema-in-database>https://stackoverflow.com/questions/65519069/django-routers-with-multiples-schema-in-database</a></li></ul></li><li>Postgres row-level permission<ul><li><a href=https://www.postgresql.org/docs/current/ddl-rowsecurity.html>https://www.postgresql.org/docs/current/ddl-rowsecurity.html</a></li><li><a href=https://www.enterprisedb.com/postgres-tutorials/how-implement-column-and-row-level-security-postgresql>https://www.enterprisedb.com/postgres-tutorials/how-implement-column-and-row-level-security-postgresql</a></li></ul></li></ul></article></section></div><footer class=footer><section class=container>©
2022
Lucas Cezimbra
·
<a href=https://gohugo.io/>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/>Coder</a>.</section></footer></main><script src=/js/coder.min.9cf2dbf9b6989ef8eae941ffb4231c26d1dc026bca38f1d19fdba50177d8a9ac.js integrity="sha256-nPLb+baYnvjq6UH/tCMcJtHcAmvKOPHRn9ulAXfYqaw="></script>
<script src=/scripts/jquery-3.6.1.min.min.e7f737b0e490f5e9cd34702be5d567ad9032230146e506a64cc7cc9cec4c6ef6.js integrity="sha256-5/c3sOSQ9enNNHAr5dVnrZAyIwFG5QamTMfMnOxMbvY="></script>
<script src=/scripts/jquery.dataTables.min.min.f90ab97ce924f89a65ac5093e70bfd7feed67d5d3381bccedfdb6d6a3e03cb93.js integrity="sha256-+Qq5fOkk+JplrFCT5wv9f+7WfV0zgbzO39ttaj4Dy5M="></script>
<script data-goatcounter=https://cezimbra.goatcounter.com/count async src=//gc.zgo.at/count.js></script></body></html>