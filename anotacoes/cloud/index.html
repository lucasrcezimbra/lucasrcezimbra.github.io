<!doctype html><html lang=pt><head><title>Cloud · Lucas Cezimbra</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="Lucas Cezimbra"><meta name=description content="Cloud vs On Premises Link to heading No último mês a Lambda3 saiu de uma infra on premises pra outra 100% nuvem. Desligamos uma estrutura com 2 servidores físicos de dez anos de idade (redundância) que tinham quase 200GB de RAM cada, diversos switches, firewall e cancelamos um link dedicado de 2 mil reais. Tínhamos umas dez VMs rodando. É uma infra pequena, mas adequada pras nossas necessidades. Temos um ADDS com 2 DCs, servidores de build, log, aplicação, firewall e outras coisinhas."><meta name=keywords content><meta name=twitter:card content="summary"><meta name=twitter:image content="https://cezimbra.me/images/lucas-180x180.jpg"><meta name=twitter:title content="Cloud"><meta name=twitter:description content="Cloud vs On Premises Link to heading No último mês a Lambda3 saiu de uma infra on premises pra outra 100% nuvem. Desligamos uma estrutura com 2 servidores físicos de dez anos de idade (redundância) que tinham quase 200GB de RAM cada, diversos switches, firewall e cancelamos um link dedicado de 2 mil reais. Tínhamos umas dez VMs rodando. É uma infra pequena, mas adequada pras nossas necessidades. Temos um ADDS com 2 DCs, servidores de build, log, aplicação, firewall e outras coisinhas."><meta name=twitter:site content="@lucasrcezimbra"><meta property="og:title" content="Cloud"><meta property="og:description" content="Cloud vs On Premises Link to heading No último mês a Lambda3 saiu de uma infra on premises pra outra 100% nuvem. Desligamos uma estrutura com 2 servidores físicos de dez anos de idade (redundância) que tinham quase 200GB de RAM cada, diversos switches, firewall e cancelamos um link dedicado de 2 mil reais. Tínhamos umas dez VMs rodando. É uma infra pequena, mas adequada pras nossas necessidades. Temos um ADDS com 2 DCs, servidores de build, log, aplicação, firewall e outras coisinhas."><meta property="og:type" content="article"><meta property="og:url" content="https://cezimbra.me/anotacoes/cloud/"><meta property="og:image" content="https://cezimbra.me/images/lucas-180x180.jpg"><meta property="article:section" content="anotacoes"><meta property="article:published_time" content="2023-08-15T07:30:00-03:00"><meta property="article:modified_time" content="2023-08-15T07:30:00-03:00"><link rel=canonical href=https://cezimbra.me/anotacoes/cloud/><link rel=preload href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.135e22c97ff685fe983fc60048e309ced8f00d8d38f536aa67dba8a13a03dfa4.css integrity="sha256-E14iyX/2hf6YP8YASOMJztjwDY049TaqZ9uooToD36Q=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin=anonymous media=screen><link rel=stylesheet href=/styles/custom.min.2ef373c2c125094d9302d8a924eba231d053340611b63bcf581460745cef626f.css integrity="sha256-LvNzwsElCU2TAtipJOuiMdBTNAYRtjvPWBRgdFzvYm8=" crossorigin=anonymous media=screen><link rel=stylesheet href=/styles/project.min.b34629645b77ae2432c104397ae29202077f926d712f2019dfa9034bc78837fa.css integrity="sha256-s0YpZFt3riQywQQ5euKSAgd/km1xLyAZ36kDS8eIN/o=" crossorigin=anonymous media=screen><link rel=stylesheet href=/styles/contribution.min.cc4187dd6677d15a0c4438b74294dbe3f54269e14a831b267fb6f02a24f90d5d.css integrity="sha256-zEGH3WZ30VoMRDi3QpTb4/VCaeFKgxsmf7bwKiT5DV0=" crossorigin=anonymous media=screen><link rel=stylesheet href=/styles/jquery.dataTables.min.min.8f6eae843117db9532d2c9b910f3b28834d22d85107ce9aba8b5abbeab67400a.css integrity="sha256-j26uhDEX25Uy0sm5EPOyiDTSLYUQfOmrqLWrvqtnQAo=" crossorigin=anonymous media=screen><link rel=stylesheet href=/styles/timeline.min.801628785543d9e7f6deb109e9561a48da7823522c0986a7dd47be117447e62f.css integrity="sha256-gBYoeFVD2ef23rEJ6VYaSNp4I1IsCYan3Ue+EXRH5i8=" crossorigin=anonymous media=screen><link rel=icon type=image/svg+xml href=/images/favicon.svg sizes=any><link rel=icon type=image/png href=/images/lucas-32x32.jpg sizes=32x32><link rel=icon type=image/png href=/images/lucas-16x16.jpg sizes=16x16><link rel=apple-touch-icon href=/images/lucas-180x180.jpg><link rel=apple-touch-icon sizes=180x180 href=/images/lucas-180x180.jpg><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5></head><body class="preload-transitions colorscheme-dark"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=/>Lucas Cezimbra</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/sobre/>Sobre</a></li><li class=navigation-item><a class=navigation-link href=/projetos/>Projetos</a></li><li class=navigation-item><a class=navigation-link href=/anotacoes/indice/>Anotações</a></li><li class=navigation-item><a class=navigation-link href=/palestras/>Palestras</a></li><li class=navigation-item><a class=navigation-link href=/posts/>Blog</a></li></ul></section></nav><div class=content><section class="container page"><article><header><h1 class=title><a class=title-link href=https://cezimbra.me/anotacoes/cloud/>Cloud</a></h1></header><h2 id=cloudhahahugoshortcode22s0hbhb-vs-on-premises><a href=https://cezimbra.me/anotacoes/cloud/>Cloud</a>
vs On Premises
<a class=heading-link href=#cloudhahahugoshortcode22s0hbhb-vs-on-premises><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><blockquote><p>No último mês a Lambda3 saiu de uma infra on premises pra outra 100% nuvem. Desligamos uma estrutura com 2 servidores físicos de dez anos de idade (redundância) que tinham quase 200GB de RAM cada, diversos switches, firewall e cancelamos um link dedicado de 2 mil reais. Tínhamos umas dez VMs rodando.
É uma infra pequena, mas adequada pras nossas necessidades. Temos um ADDS com 2 DCs, servidores de build, log, aplicação, firewall e outras coisinhas. Boa parte dos serviços já rodavam na nuvem, suíte de escritório no Microsoft 365, app no Azure app service, DevOps no Azure DevOps entre outros.
Consolidamos alguns servidores. Os DCs rodam em VMs série B, custam 80 reais por mês cada. Sua demanda é mínima, pq usamos Azure AD pra praticamente tudo (e estamos vendo de sair do AD e ficar só no AAD, diminuindo ainda mais os custos).
O custo no Azure: menos de 4 mil por mês (mas ainda estou apurando, talvez seja 20 a 30% menor que isso).
O custo pra fazer um collocation com a exata infra que tínhamos (cotamos diversos fornecedores): de 7 a 12 mil reais por mês, e com alguns adicionais eventuais (por exemplo, para acessar fisicamente a máquina, a gente ou terceiros do próprio host, há custo).
Minha conclusão é que a nuvem faz sentido pra empresas pequenas que não querem manter servidores. Mas&mldr; (e esse &ldquo;mas&rdquo; é importante) se a empresa tiver alguém pra manter os servidores (e vai precisar, mesmo se usar a nuvem), uma infra on premises ainda é muito mais barata.
Pra vocês terem uma ideia, um dos servidores (ambos eram Dell) nós compramos mais de dez anos atrás. A única coisa que fizemos foi adicionar RAM e trocar discos (mecânicos) quando falharam. Novo, um desses custa uns dez mil reais. Mas fica melhor que isso. O outro servidor nós compramos usado, na região da Santa Efigenia em São Paulo, de uma empresa que compra máquinas que estão sendo substituídas de grandes empresas, e revende no varejo. Por dez mil você compra uma máquina bem poderosa, de 5 ou 8 anos atrás, e que vai rodar sem falhar por mais dez anos fácil. Essas máquinas não param.
Dez mil reais, dois servidores, por dez anos, custa meros 166 reais por mês. Ok, coloca mais 2 de 5 mil reais, pra usar de firewall com OpnSense ou PFSense (redundância), dá 250 reais por mês.
O custo maior vai estar no link, já que os provedores residenciais não entregam nenhuma qualidade. A gente usava fibra de uma grande operadora de SP, e dava problema toda hora, e a impressão que dá é que eles fazem de propósito pq você está usando muito. Só quando trocamos pra um dedicado de apenas 50mbps isso resolveu, mas custava 2 mil reais, mas havia links profissionais mais baratos, por cerca de mil reais. Então, 1.250 reais, mais o custo da energia e eventualmente alguma troca de HD/SSD a cada X anos.
Nenhuma cloud ganha dessa eficiência. Mas você tem que saber operar.</p><p>Mudamos por outros motivos, se fosse por custo manteríamos nossa infra velhinha por mais dez anos.</p><p>Fora que na cloud você tem algumas limitações. Por exemplo, SMTP relay é proibido em toda grande cloud, pra evitar farms de spam, então você é obrigado a contratar um provedor de e-mail. E banda de Internet é sempre muito cara quando comparada com alternativas fora da cloud.</p><p>Ou seja, fiquem atentas(os), porque depende. Mas é bom ter isso em mente.</p><p>Giovanni Bassi on <a href=https://twitter.com/giovannibassi/status/1656710931575980038>https://twitter.com/giovannibassi/status/1656710931575980038 <i class="fa fa-external-link" aria-hidden=true></i></a></p></blockquote></article></section></div><footer class=footer><section class=container>©
2023
Lucas Cezimbra
·
<a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/ target=_blank rel=noopener>Coder</a>.</section></footer></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script>
<script src=/scripts/jquery-3.6.1.min.min.a5bd2eaef424674aaf1fbce2006e5c6d090807fad5f20dead81f060bb8e37c04.js integrity="sha256-pb0urvQkZ0qvH7ziAG5cbQkIB/rV8g3q2B8GC7jjfAQ="></script>
<script src=/scripts/jquery.dataTables.min.min.f90ab97ce924f89a65ac5093e70bfd7feed67d5d3381bccedfdb6d6a3e03cb93.js integrity="sha256-+Qq5fOkk+JplrFCT5wv9f+7WfV0zgbzO39ttaj4Dy5M="></script>
<script data-goatcounter=https://cezimbra.goatcounter.com/count async src=//gc.zgo.at/count.js></script></body></html>