<!doctype html><html lang=pt><head><title>Creating a WhatsApp bot · Lucas Cezimbra
</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="Lucas Cezimbra"><meta name=description content="
  Requirements
  
    
    Link to heading
  


You will need a phone number that is not linked to WhatApp yet. &ldquo;Your number
must be used either on the Business Platform or on the Business App.&rdquo;
(source)


  Steps
  
    
    Link to heading
  


Create a Facebook account

I didn&rsquo;t have an Facebook account. I created a new one, but didn&rsquo;t manage
to use it to create a Meta Developer account. So, I had to create
multiple accounts for one to work.


Create a Meta Developer account
Create a business portfolio
Create a Facebook app

Go to https://developers.facebook.com/apps/creation/
Follow the steps. &ldquo;Type&rdquo; must be &ldquo;Business&rdquo; (and &ldquo;Use cases&rdquo; must be &ldquo;Other&rdquo;)


Set up WhatsApp in your app

Open your app - https://developers.facebook.com/apps/
Look for WhatsApp under &ldquo;Add products to your app&rdquo;
Click &ldquo;Set up&rdquo;
Click &ldquo;Start using the API&rdquo;
Adding your phone number

Go to &ldquo;Step 1: Select phone numbers&rdquo; > &ldquo;From&rdquo;
Click in the dropdown
Click &ldquo;Add phone number&rdquo;
Fill the fields and click next until you finish
Save the &ldquo;Phone number ID&rdquo; for next steps. Use when you see <PHONE_NUMBER_ID> in this tutorial.


Click &ldquo;Generate access token&rdquo;

An pop up will open
Click &ldquo;Continue&rdquo;
Select &ldquo;Opt in to current WhatsApp accounts only&rdquo;
Select your phone number
Click &ldquo;Continue&rdquo;
Click &ldquo;Save&rdquo;
Save this token to the next steps. Use when you see <ACCESS_TOKEN> in this tutorial.




Add Payment method

Open https://business.facebook.com/billing_hub/accounts/details/
Select your Business portfolio
Go to &ldquo;Payment methods&rdquo;
Add business payment method
Set as payment method as default

Repeat steps 1, 2, and 3
Go to the &ldquo;Payment methods&rdquo; you added, settings (three dots) and click &ldquo;Set as default&rdquo;




Set up Two-Step Verification (it will be required in the next step) (docs)

Generate a 6-digit PIN (keep it safe). Use when you see <PIN> in this tutorial.

curl -X  POST \
     'https://graph.facebook.com/v21.0/<PHONE_NUMBER_ID>' \
     -H 'Authorization: Bearer <ACCESS_TOKEN>' \
     -H 'Content-Type: application/json' \
     -d '{&#34;pin&#34; : &#34;<PIN>&#34;}'



  Optionals
  
    
    Link to heading
  


Adding WhatsApp profile info

Some info (like Profile photo) requires setting up the Two-Step Verification


Go to https://business.facebook.com/latest/whatsapp_manager/phone_numbers/
Select your WhatsApp account in the dropdown at the top right
Click in your phone number
Go to &ldquo;Profile&rdquo; and edit it.


"><meta name=keywords content><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://cezimbra.me/images/lucas-180x180.jpg"><meta name=twitter:title content="Creating a WhatsApp bot"><meta name=twitter:description content="Requirements Link to heading You will need a phone number that is not linked to WhatApp yet. “Your number must be used either on the Business Platform or on the Business App.” (source) Steps Link to heading Create a Facebook account I didn’t have an Facebook account. I created a new one, but didn’t manage to use it to create a Meta Developer account. So, I had to create multiple accounts for one to work. Create a Meta Developer account Create a business portfolio Create a Facebook app Go to https://developers.facebook.com/apps/creation/ Follow the steps. “Type” must be “Business” (and “Use cases” must be “Other”) Set up WhatsApp in your app Open your app - https://developers.facebook.com/apps/ Look for WhatsApp under “Add products to your app” Click “Set up” Click “Start using the API” Adding your phone number Go to “Step 1: Select phone numbers” > “From” Click in the dropdown Click “Add phone number” Fill the fields and click next until you finish Save the “Phone number ID” for next steps. Use when you see <PHONE_NUMBER_ID> in this tutorial. Click “Generate access token” An pop up will open Click “Continue” Select “Opt in to current WhatsApp accounts only” Select your phone number Click “Continue” Click “Save” Save this token to the next steps. Use when you see <ACCESS_TOKEN> in this tutorial. Add Payment method Open https://business.facebook.com/billing_hub/accounts/details/ Select your Business portfolio Go to “Payment methods” Add business payment method Set as payment method as default Repeat steps 1, 2, and 3 Go to the “Payment methods” you added, settings (three dots) and click “Set as default” Set up Two-Step Verification (it will be required in the next step) (docs) Generate a 6-digit PIN (keep it safe). Use when you see <PIN> in this tutorial. curl -X POST \ 'https://graph.facebook.com/v21.0/<PHONE_NUMBER_ID>' \ -H 'Authorization: Bearer <ACCESS_TOKEN>' \ -H 'Content-Type: application/json' \ -d '{&#34;pin&#34; : &#34;<PIN>&#34;}' Optionals Link to heading Adding WhatsApp profile info Some info (like Profile photo) requires setting up the Two-Step Verification Go to https://business.facebook.com/latest/whatsapp_manager/phone_numbers/ Select your WhatsApp account in the dropdown at the top right Click in your phone number Go to “Profile” and edit it."><meta property="og:url" content="https://cezimbra.me/anotacoes/creating-a-whatsapp-bot/"><meta property="og:site_name" content="Lucas Cezimbra"><meta property="og:title" content="Creating a WhatsApp bot"><meta property="og:description" content="Requirements Link to heading You will need a phone number that is not linked to WhatApp yet. “Your number must be used either on the Business Platform or on the Business App.” (source) Steps Link to heading Create a Facebook account I didn’t have an Facebook account. I created a new one, but didn’t manage to use it to create a Meta Developer account. So, I had to create multiple accounts for one to work. Create a Meta Developer account Create a business portfolio Create a Facebook app Go to https://developers.facebook.com/apps/creation/ Follow the steps. “Type” must be “Business” (and “Use cases” must be “Other”) Set up WhatsApp in your app Open your app - https://developers.facebook.com/apps/ Look for WhatsApp under “Add products to your app” Click “Set up” Click “Start using the API” Adding your phone number Go to “Step 1: Select phone numbers” > “From” Click in the dropdown Click “Add phone number” Fill the fields and click next until you finish Save the “Phone number ID” for next steps. Use when you see <PHONE_NUMBER_ID> in this tutorial. Click “Generate access token” An pop up will open Click “Continue” Select “Opt in to current WhatsApp accounts only” Select your phone number Click “Continue” Click “Save” Save this token to the next steps. Use when you see <ACCESS_TOKEN> in this tutorial. Add Payment method Open https://business.facebook.com/billing_hub/accounts/details/ Select your Business portfolio Go to “Payment methods” Add business payment method Set as payment method as default Repeat steps 1, 2, and 3 Go to the “Payment methods” you added, settings (three dots) and click “Set as default” Set up Two-Step Verification (it will be required in the next step) (docs) Generate a 6-digit PIN (keep it safe). Use when you see <PIN> in this tutorial. curl -X POST \ 'https://graph.facebook.com/v21.0/<PHONE_NUMBER_ID>' \ -H 'Authorization: Bearer <ACCESS_TOKEN>' \ -H 'Content-Type: application/json' \ -d '{&#34;pin&#34; : &#34;<PIN>&#34;}' Optionals Link to heading Adding WhatsApp profile info Some info (like Profile photo) requires setting up the Two-Step Verification Go to https://business.facebook.com/latest/whatsapp_manager/phone_numbers/ Select your WhatsApp account in the dropdown at the top right Click in your phone number Go to “Profile” and edit it."><meta property="og:locale" content="pt"><meta property="og:type" content="article"><meta property="article:section" content="anotacoes"><meta property="article:published_time" content="2024-12-15T00:00:00+00:00"><meta property="article:modified_time" content="2024-12-29T00:00:00+00:00"><meta property="og:image" content="https://cezimbra.me/images/lucas-180x180.jpg"><link rel=canonical href=https://cezimbra.me/anotacoes/creating-a-whatsapp-bot/><link rel=preload href=/fonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.7763f8bc6341ecf82378e867c285e1549abb063a899be313ccd25dbfcd24fa7d.css integrity="sha256-d2P4vGNB7PgjeOhnwoXhVJq7BjqJm+MTzNJdv80k+n0=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin=anonymous media=screen><link rel=stylesheet href=/contribution.min.cc4187dd6677d15a0c4438b74294dbe3f54269e14a831b267fb6f02a24f90d5d.css integrity="sha256-zEGH3WZ30VoMRDi3QpTb4/VCaeFKgxsmf7bwKiT5DV0=" crossorigin=anonymous media=screen><link rel=stylesheet href=/custom.min.2ef373c2c125094d9302d8a924eba231d053340611b63bcf581460745cef626f.css integrity="sha256-LvNzwsElCU2TAtipJOuiMdBTNAYRtjvPWBRgdFzvYm8=" crossorigin=anonymous media=screen><link rel=stylesheet href=/jquery.dataTables.min.min.8f6eae843117db9532d2c9b910f3b28834d22d85107ce9aba8b5abbeab67400a.css integrity="sha256-j26uhDEX25Uy0sm5EPOyiDTSLYUQfOmrqLWrvqtnQAo=" crossorigin=anonymous media=screen><link rel=stylesheet href=/project.min.cc15fca9f603b853c828be903488d99afe86c71e40721cc4927e27f7453a4a36.css integrity="sha256-zBX8qfYDuFPIKL6QNIjZmv6Gxx5AchzEkn4n90U6SjY=" crossorigin=anonymous media=screen><link rel=stylesheet href=/timeline.min.801628785543d9e7f6deb109e9561a48da7823522c0986a7dd47be117447e62f.css integrity="sha256-gBYoeFVD2ef23rEJ6VYaSNp4I1IsCYan3Ue+EXRH5i8=" crossorigin=anonymous media=screen><link rel=stylesheet href=/vis-timeline-graph2d.min.min.15aad78c7961c518a27d54923d04eea2b750b66ebea8f490d9fe599da0ae8928.css integrity="sha256-FarXjHlhxRiifVSSPQTuordQtm6+qPSQ2f5ZnaCuiSg=" crossorigin=anonymous media=screen><link rel=icon type=image/svg+xml href=/images/favicon.svg sizes=any><link rel=icon type=image/png href=/images/lucas-32x32.jpg sizes=32x32><link rel=icon type=image/png href=/images/lucas-16x16.jpg sizes=16x16><link rel=apple-touch-icon href=/images/lucas-180x180.jpg><link rel=apple-touch-icon sizes=180x180 href=/images/lucas-180x180.jpg><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5></head><body hx-boost=true class="preload-transitions colorscheme-dark"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=https://cezimbra.me/>Lucas Cezimbra
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa-solid fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/sobre/>Sobre</a></li><li class=navigation-item><a class=navigation-link href=/projetos/>Projetos</a></li><li class=navigation-item><a class=navigation-link href=/anotacoes/indice/>Anotações</a></li><li class=navigation-item><a class=navigation-link href=/palestras/>Palestras</a></li><li class=navigation-item><a class=navigation-link href=/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=https://toolbox.cezimbra.me/>Toolbox ↗</a></li><li class="navigation-item menu-separator"><span>|</span></li><li class=navigation-item><a href=/en/>🇺🇸</a></li></ul></section></nav><div class=content><section class="container page"><article><header><h1 class=title><a class=title-link href=https://cezimbra.me/anotacoes/creating-a-whatsapp-bot/>Creating a WhatsApp bot</a></h1></header><h2 id=requirements>Requirements
<a class=heading-link href=#requirements><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><ul><li>You will need a phone number that is not linked to WhatApp yet. &ldquo;Your number
must be used either on the Business Platform or on the Business App.&rdquo;
(<a href=https://developers.facebook.com/docs/whatsapp/cloud-api/get-started/migrate-existing-whatsapp-number-to-a-business-account class=external-link target=_blank rel=noopener>source</a>)</li></ul><h2 id=steps>Steps
<a class=heading-link href=#steps><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><ol><li>Create a <a href=https://www.facebook.com/ class=external-link target=_blank rel=noopener>Facebook</a> account<ul><li>I didn&rsquo;t have an Facebook account. I created a new one, but didn&rsquo;t manage
to use it to create a Meta Developer account. So, I had to create
multiple accounts for one to work.</li></ul></li><li>Create a <a href=https://developers.facebook.com/ class=external-link target=_blank rel=noopener>Meta Developer</a> account</li><li>Create a <a href=https://business.facebook.com/ class=external-link target=_blank rel=noopener>business portfolio</a></li><li>Create a Facebook app<ol><li>Go to <a href=https://developers.facebook.com/apps/creation/ class=external-link target=_blank rel=noopener>https://developers.facebook.com/apps/creation/</a></li><li>Follow the steps. &ldquo;Type&rdquo; must be &ldquo;Business&rdquo; (and &ldquo;Use cases&rdquo; must be &ldquo;Other&rdquo;)</li></ol></li><li>Set up WhatsApp in your app<ol><li>Open your app - <a href=https://developers.facebook.com/apps/ class=external-link target=_blank rel=noopener>https://developers.facebook.com/apps/</a></li><li>Look for WhatsApp under &ldquo;Add products to your app&rdquo;</li><li>Click &ldquo;Set up&rdquo;</li><li>Click &ldquo;Start using the API&rdquo;</li><li>Adding your phone number<ol><li>Go to &ldquo;Step 1: Select phone numbers&rdquo; > &ldquo;From&rdquo;</li><li>Click in the dropdown</li><li>Click &ldquo;Add phone number&rdquo;</li><li>Fill the fields and click next until you finish</li><li>Save the &ldquo;Phone number ID&rdquo; for next steps. Use when you see <code>&lt;PHONE_NUMBER_ID></code> in this tutorial.</li></ol></li><li>Click &ldquo;Generate access token&rdquo;<ol><li>An pop up will open</li><li>Click &ldquo;Continue&rdquo;</li><li>Select &ldquo;Opt in to current WhatsApp accounts only&rdquo;</li><li>Select your phone number</li><li>Click &ldquo;Continue&rdquo;</li><li>Click &ldquo;Save&rdquo;</li><li>Save this token to the next steps. Use when you see <code>&lt;ACCESS_TOKEN></code> in this tutorial.</li></ol></li></ol></li><li>Add Payment method<ol><li>Open <a href=https://business.facebook.com/billing_hub/accounts/details/ class=external-link target=_blank rel=noopener>https://business.facebook.com/billing_hub/accounts/details/</a></li><li>Select your Business portfolio</li><li>Go to &ldquo;Payment methods&rdquo;</li><li>Add business payment method</li><li>Set as payment method as default<ol><li>Repeat steps 1, 2, and 3</li><li>Go to the &ldquo;Payment methods&rdquo; you added, settings (three dots) and click &ldquo;Set as default&rdquo;</li></ol></li></ol></li><li>Set up Two-Step Verification (it will be required in the next step) (<a href=https://developers.facebook.com/docs/whatsapp/cloud-api/reference/two-step-verification#updating-verification-code class=external-link target=_blank rel=noopener>docs</a>)<ol><li>Generate a 6-digit PIN (keep it safe). Use when you see <code>&lt;PIN></code> in this tutorial.</li></ol><div class=highlight><pre tabindex=0 style=color:#ccc;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>curl -X  POST <span style=color:#cd0000>\
</span></span></span><span style=display:flex><span><span style=color:#cd0000></span>     <span style=color:#cd0000>&#39;https://graph.facebook.com/v21.0/&lt;PHONE_NUMBER_ID&gt;&#39;</span> <span style=color:#cd0000>\
</span></span></span><span style=display:flex><span><span style=color:#cd0000></span>     -H <span style=color:#cd0000>&#39;Authorization: Bearer &lt;ACCESS_TOKEN&gt;&#39;</span> <span style=color:#cd0000>\
</span></span></span><span style=display:flex><span><span style=color:#cd0000></span>     -H <span style=color:#cd0000>&#39;Content-Type: application/json&#39;</span> <span style=color:#cd0000>\
</span></span></span><span style=display:flex><span><span style=color:#cd0000></span>     -d <span style=color:#cd0000>&#39;{&#34;pin&#34; : &#34;&lt;PIN&gt;&#34;}&#39;</span>
</span></span></code></pre></div></li></ol><h3 id=optionals>Optionals
<a class=heading-link href=#optionals><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><ul><li>Adding WhatsApp profile info<ul><li>Some info (like Profile photo) requires setting up the Two-Step Verification</li></ul><ol><li>Go to <a href=https://business.facebook.com/latest/whatsapp_manager/phone_numbers/ class=external-link target=_blank rel=noopener>https://business.facebook.com/latest/whatsapp_manager/phone_numbers/</a></li><li>Select your WhatsApp account in the dropdown at the top right</li><li>Click in your phone number</li><li>Go to &ldquo;Profile&rdquo; and edit it.</li></ol></li></ul></article></section></div><footer class=footer><section class=container>©
2025
Lucas Cezimbra
·
<a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/ target=_blank rel=noopener>Coder</a>.</section></footer></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script><script src=/js/htmx.min.c4fce4dc5cc9c8c3c9bf1aa788d54bb2cb25cd27114eb06551494ff61c30d6fb.js integrity="sha256-xPzk3FzJyMPJvxqniNVLssslzScRTrBlUUlP9hww1vs="></script><script src=/jquery-3.6.1.min.min.4833b7f001f63606fe402ea689716ace9d2a681e77e9396cda239bef25214def.js integrity="sha256-SDO38AH2Ngb+QC6miXFqzp0qaB536Tls2iOb7yUhTe8="></script><script src=/jquery.dataTables.min.min.81d3bc71314508a0b97e678aad65ff0b3312dcac9a1a7332273aba32a4802ae4.js integrity="sha256-gdO8cTFFCKC5fmeKrWX/CzMS3KyaGnMyJzq6MqSAKuQ="></script><script src=/vis-timeline-graph2d.min.min.6875120b8974a16fa91b554c25e30ff7e5eab67c5535cfa323f41d2cd6b9f802.js integrity="sha256-aHUSC4l0oW+pG1VMJeMP9+XqtnxVNc+jI/QdLNa5+AI="></script><script data-goatcounter=https://cezimbra.goatcounter.com/count async src=//gc.zgo.at/count.js></script></body></html>