<!doctype html><html lang=pt><head><title>Architecture · Lucas Cezimbra
</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="Lucas Cezimbra"><meta name=description content="How to drive your architecture decisions with a simple framework Getting the Basics - Software Architecture Introduction https://www.youtube.com/watch?v=8UlLgOf20Ho Functional requirements: What should the system do? Non-functional requirements: How should the system behave? (Functionality, Usability, Reliability, Efficiency, Maintainability, Scalability, Portability) Restrictions (Legal Compliance, Cost, Standards, Talent Hiring, Time to Market) Book - Software Architecture Patterns (O&rsquo;Reilly) The Architect’s Blueprint - Understanding Software Styles and Patterns with Cheatsheet API Link to heading https://jsonapi."><meta name=keywords content><meta name=twitter:card content="summary"><meta name=twitter:image content="https://cezimbra.me/images/lucas-180x180.jpg"><meta name=twitter:title content="Architecture"><meta name=twitter:description content="How to drive your architecture decisions with a simple framework Getting the Basics - Software Architecture Introduction https://www.youtube.com/watch?v=8UlLgOf20Ho Functional requirements: What should the system do? Non-functional requirements: How should the system behave? (Functionality, Usability, Reliability, Efficiency, Maintainability, Scalability, Portability) Restrictions (Legal Compliance, Cost, Standards, Talent Hiring, Time to Market) Book - Software Architecture Patterns (O&rsquo;Reilly) The Architect’s Blueprint - Understanding Software Styles and Patterns with Cheatsheet API Link to heading https://jsonapi."><meta name=twitter:site content="@lucasrcezimbra"><meta property="og:title" content="Architecture"><meta property="og:description" content="How to drive your architecture decisions with a simple framework Getting the Basics - Software Architecture Introduction https://www.youtube.com/watch?v=8UlLgOf20Ho Functional requirements: What should the system do? Non-functional requirements: How should the system behave? (Functionality, Usability, Reliability, Efficiency, Maintainability, Scalability, Portability) Restrictions (Legal Compliance, Cost, Standards, Talent Hiring, Time to Market) Book - Software Architecture Patterns (O&rsquo;Reilly) The Architect’s Blueprint - Understanding Software Styles and Patterns with Cheatsheet API Link to heading https://jsonapi."><meta property="og:type" content="article"><meta property="og:url" content="https://cezimbra.me/anotacoes/architecture/"><meta property="og:image" content="https://cezimbra.me/images/lucas-180x180.jpg"><meta property="article:section" content="anotacoes"><meta property="article:published_time" content="2023-08-15T07:30:00-03:00"><meta property="article:modified_time" content="2023-08-15T07:30:00-03:00"><link rel=canonical href=https://cezimbra.me/anotacoes/architecture/><link rel=preload href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.6d61704cdc1e7e63507f42be498ee41830f2dda479296c4cff6c9ce335d4e5cb.css integrity="sha256-bWFwTNwefmNQf0K+SY7kGDDy3aR5KWxM/2yc4zXU5cs=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin=anonymous media=screen><link rel=stylesheet href=/styles/custom.min.2ef373c2c125094d9302d8a924eba231d053340611b63bcf581460745cef626f.css integrity="sha256-LvNzwsElCU2TAtipJOuiMdBTNAYRtjvPWBRgdFzvYm8=" crossorigin=anonymous media=screen><link rel=stylesheet href=/styles/project.min.b34629645b77ae2432c104397ae29202077f926d712f2019dfa9034bc78837fa.css integrity="sha256-s0YpZFt3riQywQQ5euKSAgd/km1xLyAZ36kDS8eIN/o=" crossorigin=anonymous media=screen><link rel=stylesheet href=/styles/contribution.min.cc4187dd6677d15a0c4438b74294dbe3f54269e14a831b267fb6f02a24f90d5d.css integrity="sha256-zEGH3WZ30VoMRDi3QpTb4/VCaeFKgxsmf7bwKiT5DV0=" crossorigin=anonymous media=screen><link rel=stylesheet href=/styles/jquery.dataTables.min.min.8f6eae843117db9532d2c9b910f3b28834d22d85107ce9aba8b5abbeab67400a.css integrity="sha256-j26uhDEX25Uy0sm5EPOyiDTSLYUQfOmrqLWrvqtnQAo=" crossorigin=anonymous media=screen><link rel=stylesheet href=/styles/timeline.min.801628785543d9e7f6deb109e9561a48da7823522c0986a7dd47be117447e62f.css integrity="sha256-gBYoeFVD2ef23rEJ6VYaSNp4I1IsCYan3Ue+EXRH5i8=" crossorigin=anonymous media=screen><link rel=icon type=image/svg+xml href=/images/favicon.svg sizes=any><link rel=icon type=image/png href=/images/lucas-32x32.jpg sizes=32x32><link rel=icon type=image/png href=/images/lucas-16x16.jpg sizes=16x16><link rel=apple-touch-icon href=/images/lucas-180x180.jpg><link rel=apple-touch-icon sizes=180x180 href=/images/lucas-180x180.jpg><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5></head><body class="preload-transitions colorscheme-dark"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title hx-get=/ hx-swap=outerHTML hx-target=#content hx-select=#content hx-push-url=true>Lucas Cezimbra
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link hx-get=/sobre/ hx-swap=outerHTML hx-target=#content hx-select=#content hx-push-url=true>Sobre</a></li><li class=navigation-item><a class=navigation-link hx-get=/projetos/ hx-swap=outerHTML hx-target=#content hx-select=#content hx-push-url=true>Projetos</a></li><li class=navigation-item><a class=navigation-link hx-get=/anotacoes/indice/ hx-swap=outerHTML hx-target=#content hx-select=#content hx-push-url=true>Anotações</a></li><li class=navigation-item><a class=navigation-link hx-get=/palestras/ hx-swap=outerHTML hx-target=#content hx-select=#content hx-push-url=true>Palestras</a></li><li class=navigation-item><a class=navigation-link hx-get=/posts/ hx-swap=outerHTML hx-target=#content hx-select=#content hx-push-url=true>Blog</a></li></ul></section></nav><div id=content class=content><section class="container page"><article><header><h1 class=title><a class=title-link href=https://cezimbra.me/anotacoes/architecture/>Architecture</a></h1></header><ul><li><a href=https://twitter.com/milan_milanovic/status/1721442290760057223 class=external-link target=_blank rel=noopener>How to drive your architecture decisions with a simple framework</a></li><li>Getting the Basics - Software Architecture Introduction<ul><li><a href="https://www.youtube.com/watch?v=8UlLgOf20Ho" class=external-link target=_blank rel=noopener>https://www.youtube.com/watch?v=8UlLgOf20Ho</a></li><li>Functional requirements: What should the system do?</li><li>Non-functional requirements: How should the system behave? (Functionality, Usability, Reliability, Efficiency, Maintainability, Scalability, Portability)</li><li>Restrictions (Legal Compliance, Cost, Standards, Talent Hiring, Time to Market)</li><li>Book - Software Architecture Patterns (O&rsquo;Reilly)</li></ul></li><li><a href=https://medium.com/bytebytego-system-design-alliance/the-architects-blueprint-understanding-software-styles-and-patterns-with-cheatsheet-5c1f5fd55bbd class=external-link target=_blank rel=noopener>The Architect’s Blueprint - Understanding Software Styles and Patterns with Cheatsheet</a><ul><li><img src=/anotacoes/Assets/Software_Architecture_Styles.png alt></li></ul></li></ul><h2 id=api>API
<a class=heading-link href=#api><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><ul><li><a href=https://jsonapi.org/ class=external-link target=_blank rel=noopener>https://jsonapi.org/</a></li></ul><h3 id=rest>REST
<a class=heading-link href=#rest><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><ul><li><a href=https://htmx.org/essays/how-did-rest-come-to-mean-the-opposite-of-rest/ class=external-link target=_blank rel=noopener>How Did REST Come To Mean The Opposite of REST?</a></li><li><a href=https://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven class=external-link target=_blank rel=noopener>REST APIs must be hypertext-driven</a></li></ul><h2 id=clean-architectures-in-python-hahahugoshortcode10s0hbhb>Clean Architectures in <a hx-get=https://cezimbra.me/anotacoes/python/ hx-swap=outerHTML hx-target=#content hx-select=#content hx-push-url=true>Python </a><a class=heading-link href=#clean-architectures-in-python-hahahugoshortcode10s0hbhb><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><ul><li><a href="https://www.youtube.com/watch?v=C7MRkqP5NRI" class=external-link target=_blank rel=noopener>https://www.youtube.com/watch?v=C7MRkqP5NRI</a></li><li>by Leonardo Giordani - <a href=https://thedigitalcatonline.com class=external-link target=_blank rel=noopener>https://thedigitalcatonline.com</a></li><li>Archicture is about<blockquote><p>Firmitas, Utilitas, Venustas (Durability, Utility, Beauty)</p><p>Vitruvius, De architecture, 15 BC</p></blockquote></li><li>Books suggestions<ul><li>Object Oriented Software Engineering: A Use-Case Driven Approach - Ivar Jacobson</li><li><strong>Design Patterns</strong> - E. Gamma, R. Helm, R. Johnson, J. Vlissides</li><li>Design Principles and Design Patterns - Robert Martin</li><li>Domain-Driven Design: Tackling Complexity in the Heart of Software - Eric Evans</li><li><strong>Enterprise Integration Patterns: Designing, Building, and Deploying Messaging Solutions</strong> - H. Hohpe, B. Woolf</li><li>Clean Architecture in Python - Leonardo Giordani - bit.ly/getpycabook</li></ul></li></ul><h3 id=the-clean-architecture>The Clean Architecture
<a class=heading-link href=#the-clean-architecture><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><ul><li>A <strong>layered</strong> approach for a more civilized age
<img src=/anotacoes/Assets/Pasted_image_20230720162108.png alt></li><li>&ldquo;Your component can see only what is being defined in the inner layer&rdquo;</li><li>&ldquo;The problem of unclean systems is dependent components&rdquo;</li><li>The golden rule: Talk inward with <strong>simple structures</strong>, talk outwards through <strong>interfaces</strong>.
<img src=/anotacoes/Assets/Pasted_image_20230720162524.png alt></li><li>Pros<ul><li>Testability - be able to test only the business logic</li></ul></li></ul><h3 id=django-architecture>Django Architecture
<a class=heading-link href=#django-architecture><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><ul><li>Mentioned unclean patterns<ul><li><p>ORM that couples with Relational Databases - that&rsquo;s true</p></li><li><p>Models are aware/connected to the database (can be saved/retrieved natively) - partially true</p><blockquote><p>When you test your Django application, you need the database. It&rsquo;s possible to test without the database, but you are sort of fighting against the framework.</p></blockquote></li><li><p>&ldquo;You usually implement your business logic in views&rdquo; - That&rsquo;s not true. You can do it in every frameworks. But you should avoid in all, including Django.</p></li></ul></li></ul><h2 id=event-driven>Event-driven
<a class=heading-link href=#event-driven><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><ul><li><a href=https://serverlessland.com/event-driven-architecture/visuals class=external-link target=_blank rel=noopener>https://serverlessland.com/event-driven-architecture/visuals</a>
- Diagrams about event-driven architectures</li></ul><h2 id=monoliths>Monoliths
<a class=heading-link href=#monoliths><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><ul><li><a href=https://world.hey.com/dhh/how-to-recover-from-microservices-ce3803cc class=external-link target=_blank rel=noopener>How to recover from microservices</a></li><li><a href=https://m.signalvnoise.com/the-majestic-monolith/ class=external-link target=_blank rel=noopener>The Majestic Monolith</a></li><li><a href=https://www.primevideotech.com/video-streaming/scaling-up-the-prime-video-audio-video-monitoring-service-and-reducing-costs-by-90 class=external-link target=_blank rel=noopener>Scaling up the Prime Video audio/video monitoring service and reducing costs by 90%</a><ul><li><a href=https://thenewstack.io/amazon-prime-videos-microservices-move-doesnt-lead-to-a-monolith-after-all/ class=external-link target=_blank rel=noopener>Amazon Prime Video’s Microservices Move Doesn’t Lead to a Monolith after All</a></li></ul></li><li><a href=https://stackexchange.com/performance class=external-link target=_blank rel=noopener>Stack Overflow Architecture</a></li><li><a href=https://instagram-engineering.com/what-powers-instagram-hundreds-of-instances-dozens-of-technologies-adf2e22da2ad class=external-link target=_blank rel=noopener>What Powers Instagram: Hundreds of Instances, Dozens of Technologies</a></li></ul><h2 id=security>Security
<a class=heading-link href=#security><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><h3 id=basic-auth>Basic Auth
<a class=heading-link href=#basic-auth><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><h4 id=api-key>API Key
<a class=heading-link href=#api-key><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h4><ul><li><a href=https://blog.mergify.com/api-keys-best-practice/ class=external-link target=_blank rel=noopener>On API Keys Best Practices</a></li><li>Pros<ul><li>Generated by the API - avoids poor passwords.</li><li>Only the API can know the user a key belongs to.</li><li>Doesn&rsquo;t leak the user password.</li><li>Can have different privileges.</li></ul></li><li>Best practices<ul><li>Need to be rotated regularly - commonly required by operation control frameworks, such as SOC 2, HIPAA, or ISO 27001.</li><li>Allow multiple API keys, if the user wants to rotate its API Key without downtime.</li><li>Key expiration - enable the user to set an expiration.</li><li>Encrypt when storing in the database in a way that is not decryptable (hash).</li></ul></li></ul><h3 id=cryptography>Cryptography
<a class=heading-link href=#cryptography><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><ul><li>Timing Attacks<ul><li>Given a system that checks an encrypted value. The attacker measures the time to respond to a request. The longer it takes, the closer to breaking the encryption the attacker is.</li><li><a hx-get=https://cezimbra.me/anotacoes/python/ hx-swap=outerHTML hx-target=#content hx-select=#content hx-push-url=true>Python</a>
- use <a href=https://docs.python.org/3/library/secrets.html#secrets.compare_digest class=external-link target=_blank rel=noopener>secrets.compare_digest</a>
, which uses a constant-time compare to reduce the risk.</li><li><a href=https://codahale.com/a-lesson-in-timing-attacks/ class=external-link target=_blank rel=noopener>A Lesson In Timing Attacks (or, Don’t use MessageDigest.isEquals)</a><blockquote><p>A value which shares no bytes in common with the secret digest will return immediately; a value which shares the first 15 bytes will return 15 compares later.</p></blockquote></li></ul></li></ul><h3 id=oauth2>OAuth2
<a class=heading-link href=#oauth2><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><h3 id=oidc>OIDC
<a class=heading-link href=#oidc><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><h3 id=transport-security>Transport Security
<a class=heading-link href=#transport-security><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><ul><li>mTLS</li><li><a href=https://www.stunnel.org/ class=external-link target=_blank rel=noopener>Stunnel</a></li><li><a hx-get=https://cezimbra.me/anotacoes/vpn/ hx-swap=outerHTML hx-target=#content hx-select=#content hx-push-url=true>VPN</a></li></ul><h2 id=software-development-hour-from-developer-to-architect-with-nathaniel-schutta>Software Development Hour: From Developer to Architect with Nathaniel Schutta
<a class=heading-link href=#software-development-hour-from-developer-to-architect-with-nathaniel-schutta><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><ul><li>O&rsquo;Reilly</li><li>Hosted by Sam Newman</li><li>Differences between Engineer and Architect<ul><li>Need to know more about company politics</li><li>Have to be more proactive - you need to go to the work</li><li>More autonomy and accountability</li><li>Architect needs to deal more with people</li><li>It&rsquo;s more common to work on PoCs than day-to-day coding</li></ul></li><li>Tips<ul><li>Try to remove obstacles before it happens</li><li>Make sure people understand your job/value</li><li>Focus on skills that last (example: communication, influence)</li><li>You will need to influence - get people to do what you want by making them think it&rsquo;s his idea</li><li>You will not know all answers, but you need to know how research and who ask</li><li>You have a limited social capital (influence currency) - You need to choose your battles.</li></ul></li><li>How to bring global context to your local team? Help the team to see the big picture.<ul><li>Translate the message (security, performance, etc) for the particular audience. Business will not care about tech.</li><li>Maintenance - &ldquo;Did you go to an airplane that didn&rsquo;t have maintenance for months/years?</li></ul></li><li>Book - How to win friend and influence people - It will help in your architecture role.</li></ul></article></section></div><footer class=footer><section class=container>©
2023
Lucas Cezimbra
·
<a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/ target=_blank rel=noopener>Coder</a>.</section></footer></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script><script src=/js/htmx.min.c4fce4dc5cc9c8c3c9bf1aa788d54bb2cb25cd27114eb06551494ff61c30d6fb.js integrity="sha256-xPzk3FzJyMPJvxqniNVLssslzScRTrBlUUlP9hww1vs="></script><script src=/scripts/jquery-3.6.1.min.min.a5bd2eaef424674aaf1fbce2006e5c6d090807fad5f20dead81f060bb8e37c04.js integrity="sha256-pb0urvQkZ0qvH7ziAG5cbQkIB/rV8g3q2B8GC7jjfAQ="></script><script src=/scripts/jquery.dataTables.min.min.8428d7f3e442ff32afe9d8a91a6b0556b12c2212298da77cf8ff60c869fdf409.js integrity="sha256-hCjX8+RC/zKv6dipGmsFVrEsIhIpjad8+P9gyGn99Ak="></script><script data-goatcounter=https://cezimbra.goatcounter.com/count async src=//gc.zgo.at/count.js></script></body></html>