<!doctype html><html lang=pt><head><title>Lua Â· Lucas Cezimbra
</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="Lucas Cezimbra"><meta name=description content="
Homepage: Lua
Package manager: LuaRocks
Opinionated code formatter: StyLua


  Installing
  
    
    Link to heading
  

sudo apt update
sudo apt install lua5.4 luarocks

  Learning
  
    
    Link to heading
  


  What is .busted file?
  
    
    Link to heading
  

Configuration file for Busted framework.

  What is Busted?
  
    
    Link to heading
  

busted is a unit testing framework
with a focus on being easy to use"><meta name=keywords content><meta name=twitter:card content="summary"><meta name=twitter:image content="https://cezimbra.me/images/lucas-180x180.jpg"><meta name=twitter:title content="Lua"><meta name=twitter:description content="
Homepage: Lua
Package manager: LuaRocks
Opinionated code formatter: StyLua


  Installing
  
    
    Link to heading
  

sudo apt update
sudo apt install lua5.4 luarocks

  Learning
  
    
    Link to heading
  


  What is .busted file?
  
    
    Link to heading
  

Configuration file for Busted framework.

  What is Busted?
  
    
    Link to heading
  

busted is a unit testing framework
with a focus on being easy to use"><meta name=twitter:site content="@lucasrcezimbra"><meta property="og:url" content="https://cezimbra.me/anotacoes/lua/"><meta property="og:site_name" content="Lucas Cezimbra"><meta property="og:title" content="Lua"><meta property="og:description" content="Homepage: Lua Package manager: LuaRocks Opinionated code formatter: StyLua Installing Link to heading sudo apt update sudo apt install lua5.4 luarocks Learning Link to heading What is .busted file? Link to heading Configuration file for Busted framework.
What is Busted? Link to heading busted is a unit testing framework with a focus on being easy to use"><meta property="og:locale" content="pt"><meta property="og:type" content="article"><meta property="article:section" content="anotacoes"><meta property="article:published_time" content="2024-08-30T00:00:00+00:00"><meta property="article:modified_time" content="2024-09-02T00:00:00+00:00"><meta property="og:image" content="https://cezimbra.me/images/lucas-180x180.jpg"><link rel=canonical href=https://cezimbra.me/anotacoes/lua/><link rel=preload href=/fonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.7763f8bc6341ecf82378e867c285e1549abb063a899be313ccd25dbfcd24fa7d.css integrity="sha256-d2P4vGNB7PgjeOhnwoXhVJq7BjqJm+MTzNJdv80k+n0=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin=anonymous media=screen><link rel=stylesheet href=/contribution.min.cc4187dd6677d15a0c4438b74294dbe3f54269e14a831b267fb6f02a24f90d5d.css integrity="sha256-zEGH3WZ30VoMRDi3QpTb4/VCaeFKgxsmf7bwKiT5DV0=" crossorigin=anonymous media=screen><link rel=stylesheet href=/custom.min.2ef373c2c125094d9302d8a924eba231d053340611b63bcf581460745cef626f.css integrity="sha256-LvNzwsElCU2TAtipJOuiMdBTNAYRtjvPWBRgdFzvYm8=" crossorigin=anonymous media=screen><link rel=stylesheet href=/jquery.dataTables.min.min.8f6eae843117db9532d2c9b910f3b28834d22d85107ce9aba8b5abbeab67400a.css integrity="sha256-j26uhDEX25Uy0sm5EPOyiDTSLYUQfOmrqLWrvqtnQAo=" crossorigin=anonymous media=screen><link rel=stylesheet href=/project.min.cc15fca9f603b853c828be903488d99afe86c71e40721cc4927e27f7453a4a36.css integrity="sha256-zBX8qfYDuFPIKL6QNIjZmv6Gxx5AchzEkn4n90U6SjY=" crossorigin=anonymous media=screen><link rel=stylesheet href=/timeline.min.801628785543d9e7f6deb109e9561a48da7823522c0986a7dd47be117447e62f.css integrity="sha256-gBYoeFVD2ef23rEJ6VYaSNp4I1IsCYan3Ue+EXRH5i8=" crossorigin=anonymous media=screen><link rel=stylesheet href=/vis-timeline-graph2d.min.min.15aad78c7961c518a27d54923d04eea2b750b66ebea8f490d9fe599da0ae8928.css integrity="sha256-FarXjHlhxRiifVSSPQTuordQtm6+qPSQ2f5ZnaCuiSg=" crossorigin=anonymous media=screen><link rel=icon type=image/svg+xml href=/images/favicon.svg sizes=any><link rel=icon type=image/png href=/images/lucas-32x32.jpg sizes=32x32><link rel=icon type=image/png href=/images/lucas-16x16.jpg sizes=16x16><link rel=apple-touch-icon href=/images/lucas-180x180.jpg><link rel=apple-touch-icon sizes=180x180 href=/images/lucas-180x180.jpg><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5></head><body hx-boost=true class="preload-transitions colorscheme-dark"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=https://cezimbra.me/>Lucas Cezimbra
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa-solid fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/sobre/>Sobre</a></li><li class=navigation-item><a class=navigation-link href=/projetos/>Projetos</a></li><li class=navigation-item><a class=navigation-link href=/anotacoes/indice/>AnotaÃ§Ãµes</a></li><li class=navigation-item><a class=navigation-link href=/palestras/>Palestras</a></li><li class=navigation-item><a class=navigation-link href=/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=https://toolbox.cezimbra.me/>Toolbox â†—</a></li><li class="navigation-item menu-separator"><span>|</span></li><li class=navigation-item><a href=/en/>ðŸ‡ºðŸ‡¸</a></li></ul></section></nav><div class=content><section class="container page"><article><header><h1 class=title><a class=title-link href=https://cezimbra.me/anotacoes/lua/>Lua</a></h1></header><ul><li>Homepage: <a href=https://www.lua.org/ class=external-link target=_blank rel=noopener>Lua</a></li><li>Package manager: <a href=https://luarocks.org/ class=external-link target=_blank rel=noopener>LuaRocks</a></li><li>Opinionated code formatter: <a href=https://github.com/JohnnyMorganz/StyLua class=external-link target=_blank rel=noopener>StyLua</a></li></ul><h2 id=installing>Installing
<a class=heading-link href=#installing><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><div class=highlight><pre tabindex=0 style=color:#ccc;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo apt update
</span></span><span style=display:flex><span>sudo apt install lua5.4 luarocks
</span></span></code></pre></div><h2 id=learning>Learning
<a class=heading-link href=#learning><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><h3 id=what-is-busted-file>What is <code>.busted</code> file?
<a class=heading-link href=#what-is-busted-file><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><p>Configuration file for Busted framework.</p><h3 id=what-is-busted>What is Busted?
<a class=heading-link href=#what-is-busted><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><p><a href=https://lunarmodules.github.io/busted class=external-link target=_blank rel=noopener>busted</a> is a unit testing framework
with a focus on being easy to use</p><h3 id=what-is-rockspec-file>What is <code>*.rockspec</code> file?
<a class=heading-link href=#what-is-rockspec-file><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><p><a href=https://github.com/luarocks/luarocks/wiki/Rockspec-format class=external-link target=_blank rel=noopener>Rockspec format</a>
describes a Lua package (or Lua rock) that can be installed using LuaRocks.</p><h3 id=what-is-a-table>What is a table?
<a class=heading-link href=#what-is-a-table><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><p>Data structure that represents arrays, dictionaries, and other complex data
structures.</p><p>Comparison:</p><table><thead><tr><th></th><th>Lua</th><th>Python</th><th>JavaScript</th></tr></thead><tbody><tr><td>Keys</td><td>Any type except <code>nil</code> (including other tables)</td><td>Immutable types (e.g., strings, numbers, tuples)</td><td>Strings or symbols</td></tr><tr><td>Values</td><td>Any type</td><td>Any type</td><td>Any type</td></tr><tr><td>Definition syntax</td><td><code>local x = {a = 1, b = 2, c = 3}</code></td><td><code>x = {'a': 1, 'b': 2, 'c': 3}</code></td><td><code>const x = {a: 1, b: 2, c: 3};</code></td></tr><tr><td>Set value syntax</td><td><code>x.d = 4</code> or <code>x['d'] = 4</code></td><td><code>x['d'] = 4</code></td><td><code>x.d = 4;</code> or <code>x['d'] = 4</code></td></tr><tr><td>Get value syntax</td><td><code>x.d</code> or <code>x['d']</code></td><td><code>x['d']</code></td><td><code>x.d;</code> or <code>x['d']</code></td></tr></tbody></table><h3 id=what-is-local-m-->What is <code>local M = {}</code>?
<a class=heading-link href=#what-is-local-m--><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><p><code>local M = {}</code> is a pattern to create and manage a module in Lua, providing
encapsulation and a clear structure for defining and exporting functionality.</p><p>How it works: initializes an empty table <code>M</code> that will be used to collect
functions and variables that will be a part of the module&rsquo;s interface. <code>local</code>
ensures that <code>M</code> is scoped to the module file, preventing it from being
accessed globally. This is good practice to avoid polluting the global
namespace and potential name conflicts.</p><p><code>M</code> table is returned at the end of the script.</p><div class=highlight><pre tabindex=0 style=color:#ccc;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:navy>-- &lt;moduleName&gt;.lua</span>
</span></span><span style=display:flex><span><span style=color:#00cd00>local</span> M <span style=color:#39c>=</span> {}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#cdcd00>function</span> <span style=color:#00cdcd>M</span>.sayHello()
</span></span><span style=display:flex><span> print(<span style=color:#cd0000>&#34;Hello, world!&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#cdcd00>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#00cd00>local</span> <span style=color:#cdcd00>function</span> privateFunction()
</span></span><span style=display:flex><span> <span style=color:navy>-- This function is not added to M and remains private to the module</span>
</span></span><span style=display:flex><span><span style=color:#cdcd00>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#cdcd00>return</span> M
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#ccc;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:navy>-- main.lua</span>
</span></span><span style=display:flex><span>require(<span style=color:#cd0000>&#39;&lt;moduleName&gt;&#39;</span>).sayHello()
</span></span><span style=display:flex><span><span style=color:navy>-- Hello, world!</span>
</span></span><span style=display:flex><span>require(<span style=color:#cd0000>&#39;&lt;moduleName&gt;&#39;</span>).privateFunction()
</span></span><span style=display:flex><span><span style=color:navy>-- stdin:1: attempt to call a nil value (field &#39;privateFunction&#39;)</span>
</span></span><span style=display:flex><span><span style=color:navy>-- stack traceback:</span>
</span></span><span style=display:flex><span><span style=color:navy>--        stdin:1: in main chunk</span>
</span></span><span style=display:flex><span><span style=color:navy>--        [C]: in ?</span>
</span></span></code></pre></div></article></section></div><footer class=footer><section class=container>Â©
2025
Lucas Cezimbra
Â·
<a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/ target=_blank rel=noopener>Coder</a>.</section></footer></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script><script src=/js/htmx.min.c4fce4dc5cc9c8c3c9bf1aa788d54bb2cb25cd27114eb06551494ff61c30d6fb.js integrity="sha256-xPzk3FzJyMPJvxqniNVLssslzScRTrBlUUlP9hww1vs="></script><script src=/jquery-3.6.1.min.min.4833b7f001f63606fe402ea689716ace9d2a681e77e9396cda239bef25214def.js integrity="sha256-SDO38AH2Ngb+QC6miXFqzp0qaB536Tls2iOb7yUhTe8="></script><script src=/jquery.dataTables.min.min.81d3bc71314508a0b97e678aad65ff0b3312dcac9a1a7332273aba32a4802ae4.js integrity="sha256-gdO8cTFFCKC5fmeKrWX/CzMS3KyaGnMyJzq6MqSAKuQ="></script><script src=/vis-timeline-graph2d.min.min.6875120b8974a16fa91b554c25e30ff7e5eab67c5535cfa323f41d2cd6b9f802.js integrity="sha256-aHUSC4l0oW+pG1VMJeMP9+XqtnxVNc+jI/QdLNa5+AI="></script><script data-goatcounter=https://cezimbra.goatcounter.com/count async src=//gc.zgo.at/count.js></script></body></html>